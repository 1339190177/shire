<idea-plugin package="com.phodal.shirelang">
    <!--suppress PluginXmlValidity -->
    <dependencies>
        <plugin id="org.intellij.plugins.markdown"/>
        <plugin id="com.jetbrains.sh"/>
    </dependencies>

    <extensionPoints>
        <extensionPoint qualifiedName="com.phodal.shireCompletionProvider"
                        interface="com.phodal.shirelang.provider.ShireSymbolProvider"
                        dynamic="true"/>
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <!--        refs: https://github.com/JetBrains/intellij-sdk-code-samples/blob/main/simple_language_plugin/src/main/resources/META-INF/plugin.xml-->
        <fileType name="ShireFile" implementationClass="com.phodal.shirelang.ShireFileType" fieldName="INSTANCE"
                  language="Shire" extensions="shire"/>

        <lang.parserDefinition language="Shire"
                               implementationClass="com.phodal.shirelang.parser.ShireParserDefinition"/>
        <lang.syntaxHighlighterFactory language="Shire"
                                       implementationClass="com.phodal.shirelang.highlight.ShireSyntaxHighlighterFactory"/>

        <lang.ast.factory language="Shire"
                          implementationClass="com.phodal.shirelang.ShireAstFactory"/>

        <typedHandler implementation="com.phodal.shirelang.ShireTypedHandler"/>

        <completion.contributor language="Shire"
                                id="ShireCompletionContributor"
                                order="first"
                                implementationClass="com.phodal.shirelang.completion.ShireCompletionContributor"/>

<!--        <completion.contributor language="Shire"-->
<!--                                order="after ShireCompletionContributor"-->
<!--                                implementationClass="com.phodal.shirelang.completion.UserCustomCompletionContributor"/>-->

<!--        <lang.foldingBuilder language="Shire"-->
<!--                             implementationClass="com.phodal.shirelang.folding.ShireCustomVariableFoldingBuilder"/>-->
<!--        <lang.foldingBuilder language="Shire"-->
<!--                             implementationClass="com.phodal.shirelang.folding.ShireFileReferenceFoldingBuilder"/>-->

<!--        <languageInjector implementation="com.phodal.shirelang.ShireLanguageInjector"/>-->


<!--        <configurationType implementation="com.phodal.shirelang.run.ShiresConfigurationType"/>-->
<!--        <programRunner implementation="com.phodal.shirelang.run.ShiresProgramRunner"/>-->
<!--        <runConfigurationBeforeRunProviderDelegate implementation="com.phodal.shirelang.run.ShiresBeforeRunProviderDelegate"/>-->
<!--        <runConfigurationProducer implementation="com.phodal.shirelang.run.ShiresRunConfigurationProducer"/>-->
<!--        <runLineMarkerContributor language="Shire"-->
<!--                                  implementationClass="com.phodal.shirelang.run.ShiresRunLineMarkersProvider"/>-->

    </extensions>
</idea-plugin>