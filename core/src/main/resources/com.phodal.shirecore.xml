<idea-plugin package="com.phodal.shirecore">
    <resource-bundle>messages.ShireCoreBundle</resource-bundle>
    <extensions defaultExtensionNs="com.intellij">
        <notificationGroup id="Shirelang.notification.group" displayType="STICKY_BALLOON"
                           bundle="messages.ShireCoreBundle"
                           key="name"/>
    </extensions>

    <extensionPoints>
        <extensionPoint qualifiedName="com.phodal.shireFileRunService"
                        interface="com.phodal.shirecore.provider.shire.FileRunService"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireRunProjectService"
                        interface="com.phodal.shirecore.provider.shire.ProjectRunService"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireSymbolProvider"
                        interface="com.phodal.shirecore.provider.shire.ShireSymbolProvider"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireAgentTool"
                        interface="com.phodal.shirecore.provider.agent.AgentTool"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireRevisionProvider"
                        interface="com.phodal.shirecore.provider.shire.RevisionProvider"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireBuildSystemProvider"
                        interface="com.phodal.shirecore.provider.context.BuildSystemProvider"
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireElementStrategyBuilder"
                        interface="com.phodal.shirecore.provider.variable.PsiElementStrategyBuilder "
                        dynamic="true"/>

        <extensionPoint qualifiedName="com.phodal.shireRefactoringTool"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="com.phodal.shirecore.provider.shire.RefactoringTool"/>
        </extensionPoint>

        <extensionPoint qualifiedName="com.phodal.shireAutoTesting"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="com.phodal.shirecore.provider.AutoTesting"/>
        </extensionPoint>

        <!-- Toolchain Provider -->
        <extensionPoint qualifiedName="com.phodal.shireLanguageToolchainProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.provider.context.LanguageToolchainProvider"/>
        </extensionPoint>

        <!-- Toolchain Provider -->
        <extensionPoint qualifiedName="com.phodal.shirePsiVariableProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.provider.variable.PsiContextVariableProvider"/>
        </extensionPoint>

        <!-- Code Editor -->
        <extensionPoint qualifiedName="com.phodal.shireCodeModifier"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.provider.codeedit.CodeModifier"/>
        </extensionPoint>

        <!-- Code DataStructure -->
        <extensionPoint qualifiedName="com.phodal.classStructureProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.codemodel.ClassStructureProvider"/>
        </extensionPoint>

        <extensionPoint qualifiedName="com.phodal.fileStructureProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.codemodel.FileStructureProvider"/>
        </extensionPoint>

        <extensionPoint qualifiedName="com.phodal.methodStructureProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.codemodel.MethodStructureProvider"/>
        </extensionPoint>

        <extensionPoint qualifiedName="com.phodal.variableStructureProvider"
                        beanClass="com.intellij.lang.LanguageExtensionPoint" dynamic="true">
            <with attribute="implementationClass"
                  implements="com.phodal.shirecore.codemodel.VariableStructureProvider"/>
        </extensionPoint>


        <!-- Toolchain Variable Provider -->
        <extensionPoint qualifiedName="com.phodal.shireToolchainVariableProvider"
                        interface="com.phodal.shirecore.provider.variable.ToolchainVariableProvider"
                        dynamic="true"
                        >

        </extensionPoint>


        <!-- Post Code Middleware -->
        <extensionPoint qualifiedName="com.phodal.shirePostProcessor"
                        interface="com.phodal.shirecore.middleware.PostProcessor"
                        dynamic="true"/>
    </extensionPoints>

    <extensions defaultExtensionNs="JavaScript.JsonSchema">
        <ProviderFactory implementation="com.phodal.shirecore.schema.ShireCustomAgentSchemaProviderFactory"/>
    </extensions>

    <extensions defaultExtensionNs="com.phodal">
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.TimeMetricProcessor"/>

        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.VerifyCodeProcessor"/>
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.ParseCodeProcessor"/>
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.RunCodeProcessor"/>
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.InsertCodeProcessor"/>
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.FormatCodeProcessor"/>

        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.SaveFileProcessor"/>
        <shirePostProcessor implementation="com.phodal.shirecore.middleware.builtin.OpenFileProcessor"/>
    </extensions>
</idea-plugin>
