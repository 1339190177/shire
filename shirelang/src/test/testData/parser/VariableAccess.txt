ShireFile
  ShireFrontMatterHeaderImpl(FRONT_MATTER_HEADER)
    PsiElement(ShireTokenType.FRONTMATTER_START)('---')
    PsiElement(ShireTokenType.NEWLINE)('\n')
    ShireFrontMatterEntriesImpl(FRONT_MATTER_ENTRIES)
      ShireFrontMatterEntryImpl(FRONT_MATTER_ENTRY)
        PsiElement(ShireTokenType.when)('when')
        PsiElement(ShireTokenType.COLON)(':')
        PsiWhiteSpace(' ')
        ShireLogicalAndExprImpl(LOGICAL_AND_EXPR)
          ShireEqComparisonExprImpl(EQ_COMPARISON_EXPR)
            ShireRefExprImpl(REF_EXPR)
              ShireLiteralExprImpl(LITERAL_EXPR)
                PsiElement(ShireTokenType.VARIABLE_START)('$')
                PsiElement(ShireTokenType.IDENTIFIER)('selection')
              PsiElement(ShireTokenType..)('.')
              PsiElement(ShireTokenType.IDENTIFIER)('length')
            PsiWhiteSpace(' ')
            PsiElement(ShireTokenType.==)('==')
            PsiWhiteSpace(' ')
            ShireLiteralExprImpl(LITERAL_EXPR)
              PsiElement(ShireTokenType.NUMBER)('1')
          PsiWhiteSpace(' ')
          PsiElement(ShireTokenType.&&)('&&')
          PsiWhiteSpace(' ')
          ShireEqComparisonExprImpl(EQ_COMPARISON_EXPR)
            ShireCallExprImpl(CALL_EXPR)
              ShireRefExprImpl(REF_EXPR)
                ShireLiteralExprImpl(LITERAL_EXPR)
                  PsiElement(ShireTokenType.VARIABLE_START)('$')
                  PsiElement(ShireTokenType.IDENTIFIER)('selection')
                PsiElement(ShireTokenType..)('.')
                PsiElement(ShireTokenType.IDENTIFIER)('first')
              PsiElement(ShireTokenType.()('(')
              PsiElement(ShireTokenType.))(')')
            PsiWhiteSpace(' ')
            PsiElement(ShireTokenType.==)('==')
            PsiWhiteSpace(' ')
            ShireLiteralExprImpl(LITERAL_EXPR)
              PsiElement(ShireTokenType.QUOTE_STRING)(''file'')
        PsiElement(ShireTokenType.NEWLINE)('\n')
    PsiElement(ShireTokenType.FRONTMATTER_END)('---')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  PsiElement(ShireTokenType.TEXT_SEGMENT)('Write unit test for following ')
  ShireUsedImpl(USED)
    PsiElement(ShireTokenType.VARIABLE_START)('$')
    ShireVarAccessImpl(VAR_ACCESS)
      PsiElement(ShireTokenType.{)('{')
      PsiElement(ShireTokenType.VARIABLE_ID)('context')
      PsiElement(ShireTokenType..)('.')
      PsiElement(ShireTokenType.VARIABLE_ID)('lang')
      PsiElement(ShireTokenType.})('}')
  PsiElement(ShireTokenType.TEXT_SEGMENT)(' code.')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  ShireUsedImpl(USED)
    PsiElement(ShireTokenType.VARIABLE_START)('$')
    ShireVarAccessImpl(VAR_ACCESS)
      PsiElement(ShireTokenType.{)('{')
      PsiElement(ShireTokenType.VARIABLE_ID)('context')
      PsiElement(ShireTokenType..)('.')
      PsiElement(ShireTokenType.VARIABLE_ID)('frameworkContext')
      PsiElement(ShireTokenType.})('}')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  PsiElement(ShireTokenType.NEWLINE)('\n')
  CodeBlockElement(CODE)
    PsiElement(ShireTokenType.CODE_BLOCK_START)('```')
    ASTWrapperPsiElement(CODE_CONTENTS)
      PsiElement(ShireTokenType.CODE_CONTENT)('$context.lang')
      PsiElement(ShireTokenType.NEWLINE)('\n')
      PsiElement(ShireTokenType.CODE_CONTENT)('${context.imports}')
      PsiElement(ShireTokenType.NEWLINE)('\n')
      PsiElement(ShireTokenType.CODE_CONTENT)('${context.sourceCode}')
      PsiElement(ShireTokenType.NEWLINE)('\n')
    PsiElement(ShireTokenType.CODE_BLOCK_END)('```')